{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.251117","namespace":"mcp_agent.mcp_basic_agent","message":"Registering global workflow task: mcp_agent.workflows.llm.augmented_llm_google.GoogleCompletionTasks.request_completion_task"}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.249669","namespace":"mcp_agent.core.context","message":"Configuring logger with level: debug"}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.250942","namespace":"mcp_agent.mcp_basic_agent","message":"Loading subagents from configuration..."}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.251140","namespace":"mcp_agent.mcp_basic_agent","message":"Registering global workflow task: mcp_agent.workflows.llm.augmented_llm_google.GoogleCompletionTasks.request_structured_completion_task"}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.251155","namespace":"mcp_agent.mcp_basic_agent","message":"MCPApp initialized","data":{"data":{"progress_action":"Running","target":"mcp_basic_agent","agent_name":"mcp_application_loop","session_id":"bca5c0c7-9ded-4fe2-87b7-7150887b1659"}}}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.251098","namespace":"mcp_agent.mcp_basic_agent","message":"Registering global workflow tasks with application instance."}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.251289","namespace":"mcp_agent.mcp_basic_agent","message":"Current config:","data":{"data":{"mcp":{"servers":{"job_guardian":{"name":"job_guardian","description":null,"transport":"stdio","command":"python","args":["mcp_server/server.py"],"url":null,"headers":null,"http_timeout_seconds":null,"read_timeout_seconds":null,"terminate_on_close":true,"auth":"<redacted>","roots":null,"env":null,"allowed_tools":null}}},"execution_engine":"asyncio","temporal":null,"anthropic":{"aws_access_key_id":null,"aws_secret_access_key":"<redacted>","aws_session_token":null,"aws_region":null,"profile":null,"project":null,"location":null,"api_key":"<redacted>","default_model":null,"provider":"anthropic","base_url":null},"bedrock":{"aws_access_key_id":null,"aws_secret_access_key":"<redacted>","aws_session_token":null,"aws_region":null,"profile":null},"cohere":{"api_key":"<redacted>"},"openai":{"api_key":"<redacted>","reasoning_effort":"medium","base_url":null,"user":"de-jung","default_headers":null,"default_model":null},"azure":{"api_key":"<redacted>","endpoint":null,"credential_scopes":["https://cognitiveservices.azure.com/.default"]},"google":{"project":null,"location":null,"api_key":"${GOOGLE_A.....","vertexai":false,"default_model":"gemini-2.0-flash"},"otel":{"enabled":"False","exporters":[],"service_name":"mcp-agent","service_instance_id":null,"service_version":null,"sample_rate":1.0,"otlp_settings":null,"path":null,"path_settings":null},"logger":{"type":"console","transports":["console","file"],"level":"debug","progress_display":"False","path":"mcp-agent.jsonl","path_settings":{"path_pattern":"logs/mcp-agent-{unique_id}.jsonl","unique_id":"timestamp","timestamp_format":"%Y%m%d_%H%M%S"},"batch_size":100,"flush_interval":2.0,"max_queue_size":2048,"http_endpoint":null,"http_headers":null,"http_timeout":5.0,"show_progress":"True"},"usage_telemetry":{"enabled":"True","enable_detailed_telemetry":"False"},"agents":{"enabled":"True","search_paths":[".claude/agents","~/.claude/agents",".mcp-agent/agents","~/.mcp-agent/agents"],"pattern":"**/*.*","definitions":[]},"$schema":"../../../schema/mcp-agent.config.schema.json"}}}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.251375","namespace":"mcp_agent.agents.agent","message":"Initializing agent job_guardian..."}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.293644","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"job_guardian: Found server configuration=","data":{"data":{"name":"job_guardian","description":null,"transport":"stdio","command":"python","args":["mcp_server/server.py"],"url":null,"headers":null,"http_timeout_seconds":null,"read_timeout_seconds":null,"terminate_on_close":true,"auth":"<redacted>","roots":null,"env":null,"allowed_tools":null}}}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.251756","namespace":"mcp_agent.agents.agent","message":"Initialized aggregator for agent 'job_guardian'","data":{"data":{"refcount":1,"server_names":["job_guardian"],"connection_persistence":true}}}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.293838","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"job_guardian: Up and running with a persistent connection!"}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.306630","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request: request=","data":{"data":{"method":"initialize","params":{"meta":null,"protocolVersion":"2025-06-18","capabilities":{"experimental":null,"sampling":{},"elicitation":{},"roots":{"listChanged":true}},"clientInfo":{"name":"mcp","title":null,"version":"0.1.0"}}}}}
{"level":"ERROR","timestamp":"2025-10-09T15:05:40.367728","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-10-09T15:05:40.398876","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"job_guardian: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/home/de-jung/projects/job-guardian/.venv/lib/python3.12/site-packages/mcp/client/stdio/__init__.py\", line 188, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/home/de-jung/projects/job-guardian/src/mcp_agent/mcp/mcp_connection_manager.py\", line 187, in _server_lifecycle_task\n  |     async with server_conn.session:\n  |   File \"/home/de-jung/projects/job-guardian/.venv/lib/python3.12/site-packages/mcp/shared/session.py\", line 218, in __aexit__\n  |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"/home/de-jung/projects/job-guardian/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/home/de-jung/projects/job-guardian/src/mcp_agent/mcp/mcp_connection_manager.py\", line 189, in _server_lifecycle_task\n    |     await server_conn.initialize_session()\n    |   File \"/home/de-jung/projects/job-guardian/src/mcp_agent/mcp/mcp_connection_manager.py\", line 122, in initialize_session\n    |     result = await self.session.initialize()\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/de-jung/projects/job-guardian/.venv/lib/python3.12/site-packages/mcp/client/session.py\", line 151, in initialize\n    |     result = await self.send_request(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/de-jung/projects/job-guardian/src/mcp_agent/mcp/mcp_agent_client_session.py\", line 215, in send_request\n    |     result = await super().send_request(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/home/de-jung/projects/job-guardian/.venv/lib/python3.12/site-packages/mcp/shared/session.py\", line 286, in send_request\n    |     raise McpError(response_or_error.error)\n    | mcp.shared.exceptions.McpError: Connection closed\n    +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-10-09T15:05:40.401984","namespace":"mcp_agent.mcp.mcp_aggregator.job_guardian","message":"Error loading server data: MCP Server: 'job_guardian': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.402284","namespace":"mcp_agent.agents.agent","message":"Agent job_guardian initialized."}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.402328","namespace":"mcp_agent.mcp_basic_agent","message":"job_guardian: Connected to server, calling list_tools..."}
{"level":"INFO","timestamp":"2025-10-09T15:05:40.402454","namespace":"mcp_agent.mcp_basic_agent","message":"Tools available:","data":{"data":{"meta":null,"nextCursor":null,"tools":[]}}}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.403167","namespace":"mcp_agent.agents.agent","message":"Human input callback not set"}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.402410","namespace":"mcp_agent.agents.agent","message":"Human input callback not set"}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.403657","namespace":"mcp_agent.workflows.llm.augmented_llm_google.job_guardian","message":"Completion request arguments:","data":{"data":{"model":"gemini-2.0-flash","contents":[{"parts":[{"video_metadata":null,"thought":null,"inline_data":null,"file_data":null,"thought_signature":null,"function_call":null,"code_execution_result":null,"executable_code":null,"function_response":null,"text":"Print the first 2 paragraphs of https://modelcontextprotocol.io/introduction"}],"role":"user"}],"config":{"http_options":null,"should_return_http_response":null,"system_instruction":"You are an agent with the ability to fetch URLs. Your job is to identify \n            the closest match to a user's request, make the appropriate tool calls, \n            and return the URI and CONTENTS of the closest match.","temperature":0.7,"top_p":null,"top_k":null,"candidate_count":1,"max_output_tokens":4096,"stop_sequences":[],"response_logprobs":null,"logprobs":null,"presence_penalty":null,"frequency_penalty":null,"seed":null,"response_mime_type":null,"response_schema":null,"response_json_schema":null,"routing_config":null,"model_selection_config":null,"safety_settings":null,"tools":[],"tool_config":null,"labels":null,"cached_content":null,"response_modalities":null,"media_resolution":null,"speech_config":null,"audio_timestamp":null,"automatic_function_calling":{"disable":true,"maximum_remote_calls":10,"ignore_call_history":null},"thinking_config":null}}}}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:40.403689","namespace":"mcp_agent.workflows.llm.augmented_llm_google.job_guardian","message":"Chat in progress","data":{"data":{"progress_action":"Chatting","model":"gemini-2.0-flash","agent_name":"job_guardian","chat_turn":1}}}
{"level":"ERROR","timestamp":"2025-10-09T15:05:53.172424","namespace":"mcp_agent.executor.executor","message":"Error executing task: [Errno 101] Network is unreachable"}
{"level":"INFO","timestamp":"2025-10-09T15:05:53.173233","namespace":"mcp_agent.mcp_basic_agent","message":"First 2 paragraphs of Model Context Protocol docs: "}
{"level":"ERROR","timestamp":"2025-10-09T15:05:53.172749","namespace":"mcp_agent.workflows.llm.augmented_llm_google.job_guardian","message":"Error: [Errno 101] Network is unreachable"}
{"level":"ERROR","timestamp":"2025-10-09T15:06:05.652219","namespace":"mcp_agent.executor.executor","message":"Error executing task: [Errno 101] Network is unreachable"}
{"level":"DEBUG","timestamp":"2025-10-09T15:05:53.172901","namespace":"mcp_agent.workflows.llm.augmented_llm_google.job_guardian","message":"Chat finished","data":{"data":{"progress_action":"Finished","model":"gemini-2.0-flash","agent_name":"job_guardian"}}}
{"level":"DEBUG","timestamp":"2025-10-09T15:06:05.652586","namespace":"mcp_agent.mcp.mcp_aggregator.job_guardian","message":"Decremented connection ref count to 0"}
{"level":"DEBUG","timestamp":"2025-10-09T15:06:05.652327","namespace":"mcp_agent.agents.agent","message":"Shutting down agent job_guardian..."}
{"level":"INFO","timestamp":"2025-10-09T15:06:05.652599","namespace":"mcp_agent.mcp.mcp_aggregator.job_guardian","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-10-09T15:06:05.659077","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"DEBUG","timestamp":"2025-10-09T15:06:05.658998","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"MCPConnectionManager: shutting down all server tasks..."}
{"level":"INFO","timestamp":"2025-10-09T15:06:05.700144","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"job_guardian: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-10-09T15:06:05.901690","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
